# Intro to Comp Sys - Homework 1

## Problem 1 - Interrupts

### Describe what a hardware interrupt, a trap, and an exception is, and list/justify as many differences as you can identify between any two of those.

1. A hardware interrupt is an asynchronous signal from a hardware device indicating that the device requires attention.
2. A trap is a synchronous transfer of control to the operating system. Traps are used for system calls and can be generated by either the user or system.
3. An exception is a synchronous event that occurs due to errors or unusual conditions during instruction execution. Exceptions occur when the processor detects errors and invokes an exception handler to deal with it.
<div align="center">

|Topic|Hardware Interrupt|Trap|
|:-------:|:-------------------:|:------:|
|Timing|Asynchronous|Synchronous|
|Cause|Hardware Event|Software Event|
|Trigger|External Device/Timer|Program Instruction|
|Return Exception|Can resume program execution|Can resume after OS service|
|Priority|Can be masked by CPU|Not Masked|

</div>

## Problem 2 - Direct Memory Access
### 1. Assume that a Network Card has data to transfer with the end goal to save the data in DRAM. Describe in detail the steps that need to be taken by the CPU, the Network Card, the user program and the OS in order to coordinate the transfer (type of interrupts, register modifications, mode shifts, etc etc).
The steps needed to coordinate the data transfer are as follows:
1. The NIC buffers incoming data and raises a hardware interrupt.
2. The CPU handles the interrupt by having the interrupt handler (ISR) in the NIC driver read the NIC registers, and acknowledges the interrupt.
    - If we are using DMA, the NIC transfers directly to DRAM. Otherwise, the CPU copies the data through Programmed I/O (PIO).
3. The OS processes the data through the kernel network stack, and can copy the data to user-space for it to be used by a waiting process.
4. The OS schedules the user program and switches from kernel to user mode.
5. The user receives the data from the kernel buffer and processes the data.

### 2. How does the CPU know when memory operations are complete
The CPU knows when the memory operation is complete through the use of interrupts and handshakes generated after the memory is ready. This includes interrupts from the memory controller after the DMA transfer is done, ready/wait signals load/store buffers, and polling.

### 3. The CPU is allowed to execute other programs while the DMA controller is transferring data. Does this process interfere at any point during its life-cycle with the execution of user programs? If so,describe when and how interference(s) are caused.
